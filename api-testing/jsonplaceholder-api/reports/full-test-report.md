# Тестовое задание: JSONPlaceholder API Testing
## Полный отчет с результатами тестирования

**Исполнитель:** [Имя тестировщика]  
**Дата выполнения:** 12.09.2025  
**Инструменты:** Postman v11.62.5, curl, Python 3.x  
**Базовый URL:** https://jsonplaceholder.typicode.com/posts

---

## ЧАСТЬ 1: ИССЛЕДОВАТЕЛЬСКОЕ ТЕСТИРОВАНИЕ

### 1.1 Структура успешного ответа GET /posts

**Запрос:** `GET https://jsonplaceholder.typicode.com/posts/1`

**Результат:**
```json
{
  "userId": 1,
  "id": 1,
  "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
  "body": "quia et suscipit..."
}
```

**Типы данных:**
- `userId`: integer
- `id`: integer
- `title`: string
- `body`: string

### 1.2 Тестирование параметров запроса

#### userId (фильтрация по пользователю)
**Запрос:** `GET /posts?userId=1`
- **Статус:** 200 OK
- **Результат:** Массив постов только пользователя с ID=1
- **Функциональность:** Работает корректно

#### _limit (ограничение количества результатов)
**Запрос:** `GET /posts?_limit=5`
- **Статус:** 200 OK
- **Результат:** Возвращает ровно 5 постов
- **Функциональность:** Работает корректно

#### _page (пагинация)
**Запрос:** `GET /posts?_page=2&_limit=10`
- **Статус:** 200 OK
- **Результат:** Возвращает вторую страницу с 10 постами
- **Функциональность:** Работает корректно

### 1.3 HTTP-заголовки ответа

**Основные заголовки:**
```
Content-Type: application/json; charset=utf-8
Cache-Control: max-age=43200
Expires: [timestamp]
ETag: W/"6b80-Ybsq1K6GwwqrYkAsFxqDXGC7DoM"
X-Powered-By: Express
Access-Control-Allow-Origin: *
```

- **Content-Type:** Корректно указан как application/json
- **Кеширование:** Присутствуют заголовки Cache-Control и ETag
- **CORS:** Настроен для публичного использования

### 1.4 Нестандартные ситуации

#### Несуществующий пользователь (userId=999)
**Запрос:** `GET /posts?userId=999`
- **Статус:** 200 OK
- **Результат:** Пустой массив `[]`
- **Примечание:** Корректное поведение - не возвращает ошибку

#### Некорректные параметры
**Запрос:** `GET /posts?invalid_param=value`
- **Статус:** 200 OK
- **Результат:** Игнорирует неизвестный параметр, возвращает все посты
- **Примечание:** Graceful handling неизвестных параметров

#### Превышение лимита
**Запрос:** `GET /posts?_limit=1000`
- **Статус:** 200 OK
- **Результат:** Возвращает все доступные посты (~100)
- **Примечание:** API ограничивает результат размером датасета

### 1.5 Ответ на вопрос из задания

**Вопрос:** Как получить первые 5 постов пользователя с userId=7?

**Ответ:**
- **URL:** `https://jsonplaceholder.typicode.com/posts?userId=7&_limit=5`
- **Ожидаемый результат:** Массив из максимум 5 объектов с `userId: 7`
- **Фактический результат:** Работает как ожидается

---

## ЧАСТЬ 2: ТЕСТИРОВАНИЕ СОЗДАНИЯ РЕСУРСА (POST)

### 2.1 Успешное создание ресурса

**Запрос:**
```bash
curl -X POST https://jsonplaceholder.typicode.com/posts \
  -H "Content-Type: application/json" \
  -d '{"title": "Test Post", "body": "Test content", "userId": 1}'
```

**Результат:**
- **Статус:** 201 Created
- **Ответ содержит:** Все переданные поля + `"id": 101`
- **Content-Type:** application/json

### 2.2 Обработка невалидных данных

#### Отсутствие Content-Type header
**Запрос:**
```bash
curl -X POST https://jsonplaceholder.typicode.com/posts \
  -d '{"title": "Test"}'
```

**Результат:**
```json
{
  "{\"title\": \"Test\"}": "",
  "id": 101
}
```

- **ДЕФЕКТ ОБНАРУЖЕН:** JSON парсится как строковый ключ
- **Ожидаемое поведение:** 400 Bad Request или 415 Unsupported Media Type

#### Неправильный тип данных
**Запрос:**
```json
{
  "title": "Test",
  "body": "Content", 
  "userId": "string_instead_of_number"
}
```

**Результат:**
- **Статус:** 201 Created (некорректно)
- **Поведение:** API принимает строку вместо числа
- **Ожидаемое:** 400 Bad Request с валидационной ошибкой

#### Неполные данные
**Запрос:** `{"body": "Test"}` (отсутствует title)

**Результат:**
- **Статус:** 201 Created
- **Поведение:** Создает ресурс без обязательных полей
- **Ожидаемое:** 400 Bad Request

#### Пустой JSON
**Запрос:** `{}`

**Результат:**
```json
{
  "id": 101
}
```

- **Поведение:** Принимает пустой объект
- **Ожидаемое:** Валидация обязательных полей

### 2.3 Проверка идемпотентности

**Тест:** Два идентичных POST-запроса

**Результат:**
- Первый запрос: `{"id": 101, ...}`  
- Второй запрос: `{"id": 101, ...}`

**Вывод:** 
- **Поведение:** Возвращает одинаковый ID
- **Замечание:** Не соответствует стандарту REST (POST должен генерировать уникальные ID)
- **Объяснение:** Ожидаемо для mock API

---

## ЧАСТЬ 3: ДОКУМЕНТИРОВАНИЕ ДЕФЕКТОВ

### Основной дефект: DEF-001

**Заголовок:** POST /posts некорректно обрабатывает запросы без Content-Type header

**Серьезность:** Средняя  
**Приоритет:** Средний  
**Статус:** Подтвержден

**Описание:** При отсутствии заголовка Content-Type API преобразует JSON в строковый ключ вместо корректного парсинга.

**Воспроизведение:** Стабильно воспроизводится в curl, Postman, Python

**Impact:** Нарушение HTTP стандартов, confusion для разработчиков

---

## РЕЗУЛЬТАТЫ COMPREHENSIVE TESTING

### Положительные результаты:
1. **GET операции** работают корректно
2. **Фильтрация и пагинация** функционируют как ожидается  
3. **HTTP статус-коды** возвращаются правильно
4. **Content-Type headers** указываются корректно
5. **Кеширование** настроено должным образом
6. **CORS** поддерживается для публичного API

### Обнаруженные проблемы:
1. **Content-Type parsing** - критический дефект обработки заголовков
2. **Отсутствие валидации** - принимает любые данные
3. **Фиксированный ID** - не генерирует уникальные идентификаторы
4. **Отсутствие error handling** - не возвращает proper HTTP error codes

### Статистика тестирования:
- **Всего тестов выполнено:** 13
- **GET requests:** 8 (все успешны)
- **POST requests:** 5 (1 критический дефект)
- **Покрытие требований ТЗ:** 100%
- **Инструменты использованы:** 3 (curl, Postman, Python)

---

## ПРАКТИЧЕСКИЕ МАТЕРИАЛЫ

### Предоставленные артефакты:
1. **Postman Collection:** JSONPlaceholder API.postman_collection.json
   - 13 тестовых запросов
   - Полная автоматизация с Tests scripts
   - Настроенные переменные окружения

2. **Python Script:** api_testing_script.py  
   - Автоматизированное воспроизведение всех сценариев
   - Comprehensive output с анализом результатов

3. **Bug Report:** Формальная документация основного дефекта

4. **Curl Commands:** Готовые команды для быстрого воспроизведения

### Автотестирование покрывает:
- Валидацию структуры ответов
- Проверку HTTP статус-кодов  
- Тестирование параметров фильтрации
- Обнаружение дефектов парсинга
- Performance monitoring
- Data validation

---

## ВЫВОДЫ И РЕКОМЕНДАЦИИ

### Для JSONPlaceholder API:
1. **Исправить обработку Content-Type** - основной приоритет
2. **Добавить базовую валидацию** для обучающих целей
3. **Документировать ограничения** mock API
4. **Рассмотреть режим "realistic behavior"** с уникальными ID

### Для production API:
1. **Строгая валидация** входных данных обязательна
2. **Proper HTTP error codes** для всех error cases  
3. **Уникальная генерация ID** для каждого POST
4. **Обязательный Content-Type** для JSON endpoints

### Общая оценка:
**JSONPlaceholder выполняет свою задачу** как учебный инструмент, но требует доработки для соответствия production стандартам.

**Оценка качества API:** 7/10
- Отлично для обучения REST принципам
- Хорошо для базового тестирования  
- Требует улучшения для реалистичности

---

**Дата завершения:** 12.09.2025  
**Статус:** Задание выполнено полностью
